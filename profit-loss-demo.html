<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>рдирд╛рдлрд╛ / рдиреЛрдХреНрд╕рд╛рди</title>

<style>
body{font-family:"Noto Sans Devanagari","Kalimati";background:#f4f7f6;padding:20px}
h1{color:#2e7d32}
table{width:60%;border-collapse:collapse}
td{border:1px solid #cfd8dc;padding:10px}
th{background:#e8f5e9;padding:10px}
.result{background:#d9f2dc;font-weight:bold}
</style>
</head>

<body>

<h1>ЁЯУК рдирд╛рдлрд╛ / рдиреЛрдХреНрд╕рд╛рди рд╡рд┐рд╢реНрд▓реЗрд╖рдг</h1>

<table>
<tr><th>рд╡рд┐рд╡рд░рдг</th><th>рд░рдХрдо (рд░реБ.)</th></tr>
<tr><td>рдХреБрд▓ рдЖрдореНрджрд╛рдиреА</td><td id="income">0</td></tr>
<tr><td>рдХреБрд▓ рдЦрд░реНрдЪ (Cash)</td><td id="cash">0</td></tr>
<tr><td>рд╣реНрд░рд╛рд╕рдХрдЯреНрдЯреА</td><td id="dep">0</td></tr>
<tr><td>рдмреИрдВрдХ рдмреНрдпрд╛рдЬ</td><td><input id="interest" value="0"></td></tr>
<tr><td>рдХрд░ %</td><td><input id="tax" value="0"></td></tr>
<tr class="result"><td>рд╢реБрджреНрдз рдирд╛рдлрд╛</td><td id="net">0</td></tr>
</table>

<script>
const income = Number(localStorage.getItem("TOTAL_INCOME")||0);
const cash = Number(localStorage.getItem("EXPENSE_CASH")||0);
const dep = Number(localStorage.getItem("EXPENSE_DEP")||0);

document.getElementById("income").innerText=income;
document.getElementById("cash").innerText=cash;
document.getElementById("dep").innerText=dep;

function calc(){
  const interest = Number(document.getElementById("interest").value||0);
  const taxRate = Number(document.getElementById("tax").value||0);
  let profit = income - cash - dep - interest;
  let tax = profit>0 ? profit*(taxRate/100) : 0;
  net.innerText = (profit-tax).toFixed(0);
}

document.querySelectorAll("input").forEach(i=>i.oninput=calc);
calc();
</script>

</body>
</html>
