<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>Sustainability Analysis | FarmerBase BP Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:"Noto Sans Devanagari","Kalimati","Mangal",system-ui;
  background:#f4f7f6;
  margin:0;
}
.wrap{
  max-width:1200px;
  margin:25px auto;
  padding:20px;
}
h2{color:#2e7d32;margin-top:0}
.small{font-size:13px;color:#555}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
}

.box{
  background:#fff;
  border-radius:10px;
  padding:15px;
}
.box h3{
  margin-top:0;
  color:#2e7d32;
}

input{
  width:100%;
  padding:8px;
  margin-top:6px;
}
button{
  margin-top:6px;
  background:#2e7d32;
  color:#fff;
  border:none;
  border-radius:6px;
  padding:6px 12px;
  cursor:pointer;
}
.del{background:#c62828}

ul{padding-left:18px}
li{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:4px 0;
}

/* nav */
.nav{
  display:flex;
  justify-content:space-between;
  margin-top:30px;
}
</style>
</head>

<body>

<div class="wrap">

<h2>тЩ╗я╕П рд╡реНрдпрд╡рд╕рд╛рдпрдХреЛ рджреАрдЧреЛрдкрди рд╡рд┐рд╢реНрд▓реЗрд╖рдг (Sustainability Analysis)</h2>
<p class="small">
рдпрд╕ рдЙрдкрдХрд░рдгрдорд╛рд░реНрдлрдд рд╡реНрдпрд╡рд╕рд╛рдпрдХрд╛ рд╕рдмрд▓ рдкрдХреНрд╖, рд╕реБрдзрд╛рд░ рдЧрд░реНрдиреБрдкрд░реНрдиреЗ рдкрдХреНрд╖, рдЕрд╡рд╕рд░ рд░ рд╕рдорд╛рдзрд╛рдирд▓рд╛рдИ
рд╕реНрдкрд╖реНрдЯ рд░реВрдкрдорд╛ рдЫреБрдЯреНрдпрд╛рдПрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред
</p>

<div class="grid">

<!-- STRENGTH -->
<div class="box">
<h3>ЁЯЯв рд╕рдмрд▓ рдкрдХреНрд╖ (Strengths)</h3>
<input id="sInput" placeholder="рд╕рдмрд▓ рдкрдХреНрд╖ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН">
<button onclick="addItem('strengths', sInput)">тЮХ Add</button>
<ul id="strengths"></ul>
</div>

<!-- WEAKNESS -->
<div class="box">
<h3>ЁЯЯб рд╕реБрдзрд╛рд░ рдЧрд░реНрдиреБрдкрд░реНрдиреЗ рдкрдХреНрд╖ (Weaknesses)</h3>
<input id="wInput" placeholder="рд╕реБрдзрд╛рд░ рдЧрд░реНрдиреБрдкрд░реНрдиреЗ рдкрдХреНрд╖ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН">
<button onclick="addItem('weaknesses', wInput)">тЮХ Add</button>
<ul id="weaknesses"></ul>
</div>

<!-- OPPORTUNITY -->
<div class="box">
<h3>ЁЯФ╡ рдЕрд╡рд╕рд░рд╣рд░реВ (Opportunities)</h3>
<input id="oInput" placeholder="рдЕрд╡рд╕рд░ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН">
<button onclick="addItem('opportunities', oInput)">тЮХ Add</button>
<ul id="opportunities"></ul>
</div>

<!-- SOLUTION -->
<div class="box">
<h3>ЁЯФз рд╕рдорд╛рдзрд╛рди / рд░рдгрдиреАрддрд┐ (Solutions)</h3>
<input id="solInput" placeholder="рд╕рдорд╛рдзрд╛рди рд╡рд╛ рд░рдгрдиреАрддрд┐ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН">
<button onclick="addItem('solutions', solInput)">тЮХ Add</button>
<ul id="solutions"></ul>
</div>

</div>

<!-- NAV -->
<div class="nav">
  <button onclick="location.href='short-analysis.html'">тмЕ Previous</button>
  <button onclick="location.href='business-detail.html'">Next тЮб</button>
</div>

</div>

<script>
/* ================= SUSTAINABILITY ANALYSIS тАУ AUTOSAVE ================= */

const key = localStorage.getItem("activeProject");
if(!key){
  alert("рдкрд╣рд┐рд▓реЗ Project рд╕реБрд░реБ рдЧрд░реНрдиреБрд╣реЛрд╕реН");
  location.href="index.html";
}

const project = JSON.parse(localStorage.getItem(key)) || {};
project.sustainability = project.sustainability || {
  strengths:[],
  weaknesses:[],
  opportunities:[],
  solutions:[]
};

function save(){
  localStorage.setItem(key, JSON.stringify(project));
  render();
}

function addItem(type,input){
  if(!input.value.trim()) return;
  project.sustainability[type].push(input.value.trim());
  input.value="";
  save();
}

function delItem(type,i){
  project.sustainability[type].splice(i,1);
  save();
}

function render(){
  ["strengths","weaknesses","opportunities","solutions"].forEach(type=>{
    const ul=document.getElementById(type);
    ul.innerHTML="";
    project.sustainability[type].forEach((t,i)=>{
      ul.innerHTML+=`
        <li>
          <span>${t}</span>
          <button class="del" onclick="delItem('${type}',${i})">тЬЦ</button>
        </li>
      `;
    });
  });
}

render();
</script>

</body>
</html>
